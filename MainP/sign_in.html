<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SMU Library</title>
  <link rel="icon" type="image" href="Imgs/icon/saint-martin-university_track-field_saints_logo.png" />
  <!-- Link to external CSS -->
  <link rel="stylesheet" href="CSS/styles.css">
  <!-- Style for the sign in page -->
  <link rel="stylesheet" href="CSS/sign_in.css">
  <style>
    /* Inline styling to make error messages in red */
    .error {
      color: red;
      font-weight: bold;
      margin-bottom: 1em;
    }
  </style>
</head>
<body>

  <!-- Header and Navigation -->
  <header>
    <div class="nav-container">
      <h1><a href="index.html" style="color: inherit; text-decoration: none;">SMU Library</a></h1>
      <nav>
        <ul>
          <!-- Menu Items -->
          <li class="dropdown">
            <a href="#">Books</a>
            <ul class="dropdown-content">
              <li><a href="borrowbook.html">Borrow a Book</a></li>
              <!-- <li><a href="#">Return a Book</a></li> -->
              <li><a href="sellbook.html">Sell a Book</a></li>
              <!-- <li><a href="#">Buy a Book</a></li> -->
            </ul>
          </li>
          <li class="dropdown">
            <a href="#">Service</a>
            <ul class="dropdown-content">
              <li><a href="bookappointment.html">Book an Appointment</a></li>
              <li><a href="reserveroom.html">Reserve  Room</a></li>
              <li><a href="requestlibrarian.html">Request A Librarian</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="#">News and Events</a>
            <ul class="dropdown-content">
              <li><a href="eventcalendar.php">Latest News & Events</a></li>
              <li><a href="#">Promotions</a></li>
              <li><a href="#">Support the Library</a></li>
            </ul>
          </li>
          <!-- <li class="dropdown">
            <a href="#">For You</a>
            <ul class="dropdown-content">
              <li><a href="#">Student</a></li>
              <li><a href="#">Military</a></li>
              <li><a href="#">Public</a></li>
            </ul>
          </li> -->
          <li class="dropdown">
            <a href="#">About Us</a>
            <ul class="dropdown-content">
              <li><a href="team.html">Our Staff</a></li>
              <li><a href="contact.html">Contact Us</a></li>
              <li><a href="location.html">Location</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="">My Account</a>
            <ul class="dropdown-content">
              <li><a href="sign_in.html">Sign in</a></li>
              <li><a href="maincart.html">My Cart</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
  </header>
  <!-- End of Header and Navigation -->
  <br>
  <!-- Main Content -->
  <main>
    <p align="center" style="font-family: Helvetica, Arial, sans-serif; font-size: 24px; color: #030303;">
        <strong>Login or Create an Account to get more services</strong>
    </p>
    <br>
    <!-- Navigation Tabs -->
    <ul class="nav" id="nav-tabs" role="tablist">
      <li class="nav-item" role="presentation">
        <a class="nav-link active" id="tab-login" href="#pills-login" role="tab" aria-controls="pills-login" aria-selected="true" onclick="return false;">Login</a>

      </li>
      <li class="nav-item" role="presentation">
        <a class="nav-link" id="tab-register" href="#pills-register" role="tab"
           aria-controls="pills-register" aria-selected="false">Register</a>
      </li>
    </ul>
    <!-- Tab Content -->
    <div class="tab-content">
      <!-- Login Tab -->
      <div class="tab-pane active" id="pills-login" role="tabpanel" aria-labelledby="tab-login">
        <form class="form-panel" action="http://localhost:8080/smulib/MainP/PHP/login.php" method="POST">
          <div class="form-group">
            <label for="loginName">Email or Username</label>
            <input type="text" id="loginName" name = "loginName" class="form-control" placeholder="Email or username">
          </div>
          <div class="form-group">
            <label for="loginPassword">Password</label>
            <input type="password" id="loginPassword" name = "Password" class="form-control" placeholder="Password">
          </div>
          <div class="row">
            <div class="col-half">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="loginCheck" checked>
                <label class="form-check-label" for="loginCheck">Remember me</label>
              </div>
            </div>
            <div class="col-half text-right">
              <a href="#">Forgot password?</a>
            </div>
          </div>
          <button type="submit" class="btn btn-primary btn-block">Sign in</button>
          <div class="text-center mt-2">
            <p>Not a member? <a href="#pills-register" class="nav-link">Register</a></p>
          </div>
        </form>
      </div>
      <!-- Register Tab -->
      <div class="tab-pane" id="pills-register" role="tabpanel" aria-labelledby="tab-register">
        <!-- Error container: displays error messages -->
        <div id="errorMessage"></div>
        <form class="form-panel" action="http://localhost:8080/smulib/MainP/PHP/register.php" method="POST">
          <div class="form-group">
            <label for="registerName">Full Name</label>
            <input type="text" id="registerName" name="registerName" class="form-control" placeholder="Name">
          </div>
          <div class="form-group">
            <label for="registerUsername">Username</label>
            <input type="text" id="registerUsername" name="registerUsername" class="form-control" placeholder="Username">
          </div>
          <div class="form-group">
            <label for="registerEmail">Email</label>
            <input type="email" id="registerEmail" name="registerEmail" class="form-control" placeholder="Email">
          </div>
          <div class="form-group">
            <label for="registerPassword">Password</label>
            <input type="password" id="registerPassword" name="registerPassword" class="form-control" placeholder="Password">
          </div>
          <div class="form-group">
            <label for="registerRepeatPassword">Repeat Password</label>
            <input type="password" id="registerRepeatPassword" name="registerRepeatPassword" class="form-control" placeholder="Repeat password">
          </div>
          <div class="form-check text-center">
            <input class="form-check-input" type="checkbox" id="registerCheck" checked>
            <label class="form-check-label" for="registerCheck">
              I agree to the terms
            </label>
          </div>
          <button type="submit" class="btn btn-primary btn-block">Sign up</button>
        </form>
      </div>
    </div>
  </main>
  <!-- JavaScript for Tab Switching -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const tabs = document.querySelectorAll('.nav-link');
      const panes = document.querySelectorAll('.tab-pane');
      tabs.forEach(tab => {
        tab.addEventListener('click', function(e) {
          e.preventDefault();
          tabs.forEach(item => item.classList.remove('active'));
          panes.forEach(pane => pane.classList.remove('active'));
          this.classList.add('active');
          const paneId = this.getAttribute('href');
          const activePane = document.querySelector(paneId);
          if (activePane) {
            activePane.classList.add('active');
          }
        });
      });
    });
  </script>
  <!-- Footer -->
  <footer>
    <p>&copy; 2025 SMU Library</p>
  </footer>
  <!-- JavaScript to display error message in red only after signup -->
  <script>
    window.onload = function() {
      var urlParams = new URLSearchParams(window.location.search);
      var error = urlParams.get('error');
      if (error === 'PasswordsDontMatch') {
        alert('Passwords do not match!');
        // Remove the parameter so the alert does not persist on refresh
        window.history.replaceState(null, "", window.location.pathname);
      } else if (error === 'UserExists') {
        alert('A user with that email or username already exists!');
        window.history.replaceState(null, "", window.location.pathname);
      }
    };
  </script>
  
  
  <!-- External JavaScript -->
  <script src="script.js"></script>
</body>
</html>
